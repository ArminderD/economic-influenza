---
title: "scratch"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
library(mc2d)
rm(list = ls(all.names = TRUE))
```

```{r}
source("functions.R")
source("variables.R")
```


## 0-4 years

```{r}
pop <- pop_04
num_cases <- 18302.76
cases_after_vax <- 360.2
```

## 0-4 years, HIGH RISK

```{r}
risk_group <- high_019
costs <- c(1487872, 31894, 948, 116.5) # original cost data
prob <- c(p_04_high_death, p_04_high_hosp, p_04_high_out, p_04_high_rest) # probability

calc_subpop_cases_base(num_cases, risk_group)
calc_subpop_cases_intv(cases_after_vax, risk_group)
calc_vaccination_cost(pop, risk_group, vax_cost, vax_comp) # total vaccination cost

# base number of cases per health outcome
(num_outcomes_base <- calc_num_outcomes_base(prob[1], prob[2], prob[3], prob[4]))

# intervention number of cases per health outcome
(num_outcomes_intv <- calc_num_outcomes_intv(prob[1], prob[2], prob[3], prob[4]))

cost_cpi_outcome(costs[1],costs[2],costs[3],costs[4])  # cost per health outcome

calc_total_cost_base(costs[1],costs[2],costs[3],costs[4])  # total costs per health outcome (base)

calc_total_cost_intv(costs[1],costs[2],costs[3],costs[4]) # total costs per health outcome (intervention)


```

## 0-4 years, low risk

```{r}
risk_group <- 1-high_019
#costs <- c(1487872, 31894, 948, 116.5) # original cost data
#prob <- c(p_04_high_death, p_04_high_hosp, p_04_high_out, p_04_high_rest) # probability

calc_subpop_cases_base(num_cases, risk_group)
calc_subpop_cases_intv(cases_after_vax, risk_group)
calc_vaccination_cost(pop, risk_group, vax_cost, vax_comp) # total vaccination cost

# base number of cases per health outcome
(num_outcomes_base <- calc_num_outcomes_base(prob[1], prob[2], prob[3], prob[4]))

# intervention number of cases per health outcome
(num_outcomes_intv <- calc_num_outcomes_intv(prob[1], prob[2], prob[3], prob[4]))

cost_cpi_outcome(costs[1],costs[2],costs[3],costs[4])  # cost per health outcome

calc_total_cost_base(costs[1],costs[2],costs[3],costs[4])  # total costs per health outcome (base)

calc_total_cost_intv(costs[1],costs[2],costs[3],costs[4]) # total costs per health outcome (intervention)
```



## 5-19 years

```{r}
pop <- pop_519
num_cases
cases_after_vax
```

## 5-19 years, HIGH RISK

## 5-19 years, low risk




## 20-64 years

```{r}
pop <- pop_2064
num_cases
cases_after_vax
```

## 20-64 years, HIGH RISK

## 20-64 years, low risk




## 65+ years

```{r}
pop <- pop_65
num_cases
cases_after_vax
```

## 65+ years, HIGH RISK

## 65+ years, low risk



